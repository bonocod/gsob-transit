<!DOCTYPE html>
<html>
<head>
  <title>Students in <%= className %> - GSOB Transit</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container mt-5">

    <h2>Promotion: <%= promotion %> — <%= className %></h2>
    <div class="mb-3">
      <span class="badge bg-primary">Total: <%= total %></span>
      <span class="badge bg-success ms-2">Paid: <%= paidCount %></span>
      <span class="badge bg-danger ms-2">Unpaid: <%= unpaidCount %></span>
    </div>

    <table class="table table-bordered table-striped">
      <thead class="table-dark">
        <tr>
          <th>#</th><th>Name</th><th>Status</th><th>Destination</th><th>Booked At</th>
        </tr>
      </thead>
      <tbody>
        <% students.forEach((s,i)=>{ %>
          <tr>
            <td><%= i+1 %></td>
            <td><%= s.name %></td>
            <td>
              <% if(s.paid){ %>
                <span class="text-success">&#10004;</span>
              <% } else { %>
                <span class="text-danger">&#10008;</span>
              <% } %>
            </td>
            <td><%= s.paid? s.destination:'—' %></td>
            <td><%= s.paid? new Date(s.bookedAt).toLocaleString():'—' %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>

    <div class="mt-3">
      <a href="/admin/summary" class="btn btn-secondary">Back to Summary</a>
      <a href="/admin/manage/<%= promotion %>" class="btn btn-secondary ms-2">Back to Classes</a>
    </div>

  </div>
</body>
</html>


